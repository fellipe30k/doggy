<!-- app/views/shared/_sidebar.html.erb -->
<aside id="sidebar" class="fixed left-0 top-16 bottom-0 w-64 bg-white dark:bg-stone-900 border-r border-stone-200 dark:border-stone-800 transform -translate-x-full lg:translate-x-0 transition-transform duration-300 z-40">
  <div class="p-4 h-full overflow-y-auto">
    <nav class="space-y-2">
      <%= link_to root_path, class: "flex items-center space-x-3 px-4 py-3 rounded-xl text-stone-700 dark:text-stone-300 hover:bg-stone-100 dark:hover:bg-stone-800 transition-colors #{'bg-blue-50 dark:bg-blue-950/30 text-blue-600 dark:text-blue-400' if current_page?(root_path)}" do %>
        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
          <path d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"/>
        </svg>
        <span class="font-medium">Dashboard</span>
      <% end %>

      <%= link_to animals_path, class: "flex items-center space-x-3 px-4 py-3 rounded-xl text-stone-700 dark:text-stone-300 hover:bg-stone-100 dark:hover:bg-stone-800 transition-colors #{'bg-blue-50 dark:bg-blue-950/30 text-blue-600 dark:text-blue-400' if current_page?(animals_path)}" do %>
        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
          <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.94-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"/>
        </svg>
        <span class="font-medium">Animais</span>
      <% end %>

      <%= link_to vaccinations_path, class: "flex items-center space-x-3 px-4 py-3 rounded-xl text-stone-700 dark:text-stone-300 hover:bg-stone-100 dark:hover:bg-stone-800 transition-colors #{'bg-blue-50 dark:bg-blue-950/30 text-blue-600 dark:text-blue-400' if current_page?(vaccinations_path)}" do %>
        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
          <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 3c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6zm7 13H5v-.23c0-.62.28-1.2.76-1.58C7.47 15.82 9.64 15 12 15s4.53.82 6.24 2.19c.48.38.76.97.76 1.58V19z"/>
        </svg>
        <span class="font-medium">Vacinações</span>
      <% end %>

      <% if current_user.can_manage_company? %>
        <hr class="border-stone-200 dark:border-stone-700 my-4">
        
        <%= link_to staff_users_path, class: "flex items-center space-x-3 px-4 py-3 rounded-xl text-stone-700 dark:text-stone-300 hover:bg-stone-100 dark:hover:bg-stone-800 transition-colors #{'bg-blue-50 dark:bg-blue-950/30 text-blue-600 dark:text-blue-400' if current_page?(staff_users_path)}" do %>
          <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
            <path d="M16 4c0-1.11.89-2 2-2s2 .89 2 2-.89 2-2 2-2-.89-2-2zm4 18v-6h2.5l-2.54-7.63A3.01 3.01 0 0 0 16.98 7H15.2c-.39 0-.74.23-.9.59L12.8 11h-1.6l-1.5-3.41c-.16-.36-.51-.59-.9-.59H7.02a3.01 3.01 0 0 0-2.98 1.37L1.5 16H4v6h4v-6h2v6h4z"/>
          </svg>
          <span class="font-medium">Usuários</span>
        <% end %>

        <% if current_user.staff? %>
          <%= link_to staff_companies_path, class: "flex items-center space-x-3 px-4 py-3 rounded-xl text-stone-700 dark:text-stone-300 hover:bg-stone-100 dark:hover:bg-stone-800 transition-colors #{'bg-blue-50 dark:bg-blue-950/30 text-blue-600 dark:text-blue-400' if current_page?(staff_companies_path)}" do %>
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
              <path d="M12 7V3H2v18h20V7H12zM6 19H4v-2h2v2zm0-4H4v-2h2v2zm0-4H4V9h2v2zm0-4H4V5h2v2zm4 12H8v-2h2v2zm0-4H8v-2h2v2zm0-4H8V9h2v2zm0-4H8V5h2v2zm10 12h-8v-2h2v-2h-2v-2h2v-2h-2V9h8v10zm-2-8h-2v2h2v-2zm0 4h-2v2h2v-2z"/>
            </svg>
            <span class="font-medium">Clínicas</span>
          <% end %>
        <% end %>
      <% end %>
    </nav>
  </div>
</aside>